<div class="container">
  <flash msg="msg" type='type'></flash>
  <div class="namebox"><h2>Hello, <input id="name" ng-model="displayName" class="nameinput"></h2></div>
<h2>Welcome to this drop!</h2>
<p>Just share this URL to your friends you want to share files with. <br/> Drag &amp; Drop or Select file to share. </p>
<p>Currently online in this drop: </p>

<form ng-submit="createConnections()">
<table class="table">
<tr ng-repeat="user in users | keyFilter | filter:'!'+users.$local.displayName | peerjsConnected | orderBy:'displayName'">
   <td class="active">
      <input type="checkbox"/ checklist-model="conns" checklist-value="user.peerjsaddr">
      &nbsp;<span id="{{ user.peerjsaddr }}">{{ user.displayName }} peerjs addr: {{ user.peerjsaddr }}</span>
      &nbsp;<span class="label label-success glyphicon glyphicon-ok" ng-if="activeConnections[user.peerjsaddr]">connected</span>
   </td>
</table>
<button ng-click="checkAll()" type="button">check all</button> <button>connect</button>
</form>
<br />

<div id="box" class="filebox">
<p>Drag file here to send to active connections.</p>
</div>

<div id="files_box" style="display:none">
<h3>Files received:</h3>
<table id="files" class="table">
</table>
</div>

<div class="well">
  <form ng-submit="sendMessage()">
    <input ng-model="content" class="col-sm-6">
    <button type="submit" class="btn btn-primary btn-xs">Lähetä</button>
  </form>
  <hr/>
  <p ng-repeat="msg in chat | keyFilter | orderBy:'-$name'| limitTo: 5">{{msg.author}}: {{msg.content}}</p>
</div>
<!-- custom connection disabled for now -->
<!--<form ng-submit="createConnections()">
address: <input type="text" ng-model="peer_address"></input>
<button>connect</button>
</form>
-->

</div>

